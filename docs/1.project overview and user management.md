# College Management App - Documentation
## Part 1: Project Overview & User Management

---

## 1. Project Overview

### 1.1 Introduction

The College Management App is a mobile application built on Android Studio with Firebase backend. It centralizes event management, registration, and communication within educational institutions.

The app addresses traditional problems like missed announcements, manual registrations, and poor attendance tracking by digitizing the complete event lifecycle.

### 1.2 Core Objectives

- Provide a centralized platform for event discovery and registration
- Automate notifications and reminders for upcoming events
- Enable efficient attendance tracking through QR codes
- Offer real-time analytics on student engagement
- Facilitate communication between students, faculty, and administrators

### 1.3 Target Users

#### Students
- Browse and search for events across categories
- Register for events with one-click
- Receive push notifications and reminders
- Track personal attendance history
- Access event certificates

#### Faculty Members
- Create and manage events
- Set registration limits and custom forms
- Monitor registrations and attendance
- Send updates to registered participants
- Access event analytics and reports

#### Club Coordinators
- Organize club-specific events
- Manage club membership
- Send targeted announcements to members
- Track club event engagement

#### Administrators
- Oversee all system events and users
- Manage user roles and permissions
- Configure system-wide settings
- Send emergency broadcasts
- Access comprehensive analytics

### 1.4 Technology Stack

#### Android Frontend
- **Language**: Java/Kotlin
- **IDE**: Android Studio
- **Architecture**: MVVM (Model-View-ViewModel)
- **UI**: Material Design Components
- **Image Loading**: Glide/Picasso
- **QR Code**: ZXing Library
- **Local Database**: Room (for offline support)

#### Firebase Backend
- **Authentication**: User login and registration
- **Cloud Firestore**: Real-time NoSQL database
- **Storage**: Media and document hosting
- **Cloud Messaging (FCM)**: Push notifications
- **Cloud Functions**: Server-side automation
- **Extensions**: Email service integration

---

## 2. System Architecture

### 2.1 MVVM Architecture

The app follows the Model-View-ViewModel pattern for clean code organization:

**View Layer (UI)**
- Activities host fragments and handle navigation
- Fragments display data and capture user input
- Adapters manage RecyclerView lists
- Custom views provide reusable UI components

**ViewModel Layer (Business Logic)**
- ViewModels survive configuration changes
- LiveData/StateFlow for observable data
- Business logic execution
- No direct View references

**Repository Layer (Data Management)**
- Single source of truth for data
- Coordinates between remote and local sources
- Handles caching and synchronization
- Provides clean API for ViewModels

**Model Layer (Data)**
- Entity classes for domain objects
- Data transfer objects (DTOs)
- Compatible with Firestore and Room

### 2.2 Firebase Structure

#### Firestore Collections
```
/users
/events
/registrations
/clubs
/notifications
/academic_calendar
/announcements
/documents
```

#### Storage Folders
```
/event_posters
/profile_pictures
/documents
/certificates
```

#### Cloud Functions
- Scheduled event reminders
- Email notification triggers
- QR code generation
- Registration confirmation
- Data cleanup tasks

---

## 3. User Management System

### 3.1 User Roles and Permissions

The system implements role-based access control (RBAC) with four distinct roles:

| Feature | Student | Faculty | Club Coordinator | Admin |
|---------|---------|---------|------------------|-------|
| Browse Events | ✓ | ✓ | ✓ | ✓ |
| Register for Events | ✓ | ✓ | ✓ | ✓ |
| Create Events | ✗ | ✓ | ✓ (club only) | ✓ |
| Manage Users | ✗ | ✗ | ✗ | ✓ |
| View Analytics | Own only | Own events | Club events | All |
| Send Announcements | ✗ | ✓ | ✓ (club only) | ✓ |
| Emergency Alerts | ✗ | ✗ | ✗ | ✓ |

### 3.2 User Data Model

#### Firestore User Document Structure
```
users/{userId}
  - userId: string
  - email: string
  - fullName: string
  - role: string (student/faculty/club_coordinator/admin)
  - department: string
  - year: number (for students)
  - rollNumber: string (for students)
  - phoneNumber: string
  - profilePictureUrl: string
  - interests: array of strings
  - clubMemberships: array of club IDs
  - fcmToken: string (for push notifications)
  - createdAt: timestamp
  - updatedAt: timestamp
  - isEmailVerified: boolean
  - isActive: boolean
```

### 3.3 Authentication Flow

#### Registration Process

**Step 1: User Input**
- User enters email, password, full name, department, and year
- App validates email format and password strength
- Terms and conditions acceptance required

**Step 2: Firebase Authentication**
- Firebase Authentication creates user account
- Verification email sent automatically
- Temporary auth token generated

**Step 3: Profile Creation**
- User document created in Firestore
- Default role assigned (student)
- FCM token registered for notifications
- Profile picture placeholder set

**Step 4: Email Verification**
- User clicks verification link in email
- Email verified status updated in Firebase Auth
- User redirected to complete profile setup

#### Login Process

**Step 1: Credential Validation**
- User enters email and password
- Firebase Authentication validates credentials
- Checks if email is verified

**Step 2: Session Creation**
- Auth token generated and stored locally
- User data fetched from Firestore
- FCM token updated if changed

**Step 3: Role-Based Navigation**
- Student: Event listing screen
- Faculty/Coordinator: Dashboard with create options
- Admin: Admin dashboard

#### Password Recovery
- User enters registered email
- Firebase sends password reset link
- User creates new password via link
- Automatic login after successful reset

### 3.4 Profile Management

#### Profile Information

**Basic Details** (editable by user)
- Full name, phone number, profile picture
- Department and year (students)
- Bio or description (optional)

**Interest Preferences** (for personalized recommendations)
- Academic, Cultural, Sports, Technical, Workshops
- Specific topics or categories
- Club interests

**Privacy Settings**
- Profile visibility options
- Notification preferences
- Data sharing consent

**Account Information** (read-only)
- Email address
- Registration date
- User ID
- Role assignment

#### Profile Update Flow

When a user updates their profile, the app validates the input data locally before sending to Firebase. The ViewModel handles the update operation through the repository, which updates both the local Room database and Cloud Firestore. LiveData observers automatically reflect changes in the UI. Profile pictures are uploaded to Firebase Storage first, then the download URL is saved in the user document.

### 3.5 User Roles Assignment

#### Default Role Assignment

New registrations automatically receive the "student" role. This default behavior ensures immediate app access while administrators can later upgrade permissions if needed.

#### Role Upgrade Process

**Faculty Role**
- Admin reviews faculty application
- Verifies institutional email domain
- Updates user document role field
- Notification sent to user about role change
- New permissions immediately available

**Club Coordinator Role**
- Student applies through in-app form
- Specifies club name and position
- Admin or existing coordinator approves
- Role updated with club association
- Access granted to club management features

**Admin Role**
- Assigned only by existing admins
- Requires institutional approval
- Full system access granted
- Audit log maintained for admin actions

### 3.6 User Management (Admin Features)

#### User Listing and Search

Admins access a comprehensive user directory with search and filter capabilities. Filters include role type, department, registration date, and account status. The interface displays key information like name, email, role, and last active timestamp.

#### User Actions

**View User Details**
- Complete profile information
- Registration history
- Event participation statistics
- Attendance records
- Recent activity log

**Edit User Information**
- Update basic details if requested
- Correct data entry errors
- Assign or change departments

**Role Management**
- Promote users to faculty or coordinator
- Revoke elevated permissions
- Assign admin privileges
- View role change history

**Account Status**
- Suspend accounts for policy violations
- Reactivate suspended accounts
- Delete accounts (with confirmation)
- Reset passwords on user request

#### Bulk Operations

Admins can perform batch operations on multiple users simultaneously. This includes sending mass notifications, exporting user lists, updating department assignments, and managing permissions for groups of users.

---

## 4. Security and Privacy

### 4.1 Authentication Security

Firebase Authentication handles password hashing and secure storage automatically. The app enforces email verification before full access. Session tokens expire after defined periods, requiring re-authentication. Failed login attempts are rate-limited to prevent brute force attacks.

### 4.2 Data Access Control

Firestore security rules enforce role-based access at the database level. Students can only read public event data and write their own registrations. Faculty can create events and manage their own content. Admins have full read/write access across collections. Personal data remains private unless explicitly shared.

### 4.3 Privacy Considerations

User data collection follows minimal necessary information principles. Personal information like phone numbers and addresses are optional. Users control their profile visibility settings. The app provides data export functionality for user requests. Account deletion removes all personal data permanently.

---

## 5. Offline Capability

### 5.1 Local Data Storage

Room database caches frequently accessed data including user profiles, registered events, and recent announcements. Users can browse cached events and view their registration history offline. The app clearly indicates when displaying cached vs. live data.

### 5.2 Offline Actions Queue

When users perform actions offline (like event registration), these operations are queued locally. Once internet connectivity returns, the queue processes automatically. Users receive confirmation when queued actions complete successfully. Conflicts are resolved using last-write-wins strategy with user notification.

---

## 6. Performance Optimization

### 6.1 Data Loading Strategies

The app implements pagination for long lists, loading 20 items initially with infinite scroll for more. Images are compressed before upload and loaded with appropriate resolutions for different screen sizes. Background sync occurs during idle time to minimize battery impact. Firestore queries use proper indexing for fast response times.

### 6.2 Caching Strategy

Frequently accessed data like user profiles and favorite events are cached for 24 hours. Event posters are cached indefinitely with cache-busting on updates. The app preloads upcoming events during idle time for instant access.

---

